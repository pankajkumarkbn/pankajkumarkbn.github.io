<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>India General Knowledge Quiz</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.3s ease-in-out;
        }
        .quiz-container {
            transition: opacity 0.5s ease-in-out;
        }
        .option-btn {
            transition: background-color 0.2s ease, transform 0.1s ease;
        }
        .option-btn:hover {
            transform: translateY(-2px);
        }
        .option-btn.correct {
            background-color: #4ade80 !important; /* Tailwind green-400 */
            color: white !important;
            border-color: #22c55e !important; /* Tailwind green-600 */
        }
        .option-btn.incorrect {
            background-color: #f87171 !important; /* Tailwind red-400 */
            color: white !important;
            border-color: #ef4444 !important; /* Tailwind red-500 */
        }
        .option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        #dim-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.7s ease-in-out;
            z-index: 9998; /* Below modals, above content */
        }
        .feedback-message {
            min-height: 24px; /* To prevent layout shift */
            font-weight: 500;
        }
        .score-card {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-slate-100 text-slate-800 flex items-center justify-center min-h-screen p-4">

    <div id="dim-overlay"></div>

    <div id="quiz-app" class="w-full max-w-2xl">
        <div id="quiz-container" class="bg-white p-6 sm:p-8 rounded-xl shadow-2xl quiz-container">
            <div class="mb-6">
                <h1 class="text-3xl sm:text-4xl font-bold text-center text-indigo-600 mb-2">India Quiz Challenge</h1>
                <p class="text-center text-slate-500">Test your knowledge about India!</p>
            </div>

            <div id="question-area" class="mb-6">
                <div class="flex justify-between items-center mb-2">
                    <p id="question-counter" class="text-sm font-medium text-indigo-500">Question 1/15</p>
                    <p id="current-score" class="text-sm font-medium text-green-500">Score: 0</p>
                </div>
                <h2 id="question-text" class="text-xl sm:text-2xl font-semibold text-slate-700 mb-6 min-h-[60px] sm:min-h-[84px]">
                    Loading question...
                </h2>
                <div id="options-container" class="grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4">
                    </div>
            </div>

            <div id="feedback-area" class="mt-4 mb-6 text-center">
                <p id="feedback-message" class="feedback-message">&nbsp;</p>
            </div>

            <div class="mt-6 text-center">
                <button id="next-button" class="bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-8 rounded-lg shadow-md transition-colors duration-200 ease-in-out w-full sm:w-auto hidden">
                    Next Question
                </button>
            </div>
        </div>

        <div id="score-card-container" class="hidden bg-white p-6 sm:p-8 rounded-xl shadow-2xl text-center score-card">
            <h2 id="score-title" class="text-3xl sm:text-4xl font-bold text-indigo-600 mb-4">Quiz Completed!</h2>
            <p id="final-score-text" class="text-xl sm:text-2xl text-slate-700 mb-6">Your final score is loading...</p>
            <img id="score-image" src="" alt="Score-based image" class="mx-auto mb-6 w-32 h-32 sm:w-40 sm:h-40 object-contain rounded-lg">
            <p id="score-message" class="text-md sm:text-lg text-slate-600 mb-8"></p>
            <button id="restart-button" class="bg-green-500 hover:bg-green-600 text-white font-semibold py-3 px-8 rounded-lg shadow-md transition-colors duration-200 ease-in-out w-full sm:w-auto">
                Play Again
            </button>
        </div>
    </div>

    <script>
        const quizData = [
            {
                question: "What is the capital of India?",
                options: ["Mumbai", "New Delhi", "Kolkata", "Chennai"],
                answer: "New Delhi"
            },
            {
                question: "Which river is considered the holiest in Hindu tradition and is also India's longest river?",
                options: ["Yamuna", "Brahmaputra", "Ganges", "Godavari"],
                answer: "Ganges"
            },
            {
                question: "Who is known as the 'Father of the Nation' in India?",
                options: ["Jawaharlal Nehru", "Sardar Patel", "Mahatma Gandhi", "Subhas Chandra Bose"],
                answer: "Mahatma Gandhi"
            },
            {
                question: "In which year did India gain independence from British rule?",
                options: ["1942", "1945", "1947", "1950"],
                answer: "1947"
            },
            {
                question: "What is the national animal of India?",
                options: ["Lion", "Tiger", "Elephant", "Leopard"],
                answer: "Tiger"
            },
            {
                question: "What is the national flower of India?",
                options: ["Rose", "Sunflower", "Lotus", "Marigold"],
                answer: "Lotus"
            },
            {
                question: "Which Indian city is famous for its IT industry and is often called the 'Silicon Valley of India'?",
                options: ["Hyderabad", "Pune", "Bengaluru", "Chennai"],
                answer: "Bengaluru"
            },
            {
                question: "What is the currency of India?",
                options: ["Dollar", "Euro", "Rupee", "Yen"],
                answer: "Rupee"
            },
            {
                question: "Which is the highest civilian award in India?",
                options: ["Padma Vibhushan", "Bharat Ratna", "Padma Bhushan", "Param Vir Chakra"],
                answer: "Bharat Ratna"
            },
            {
                question: "Who wrote the Indian National Anthem, 'Jana Gana Mana'?",
                options: ["Bankim Chandra Chatterjee", "Rabindranath Tagore", "Sarojini Naidu", "Muhammad Iqbal"],
                answer: "Rabindranath Tagore"
            },
            {
                question: "Which mountain range forms India's northern border?",
                options: ["Andes", "Rockies", "Alps", "Himalayas"],
                answer: "Himalayas"
            },
            {
                question: "What is the name of India's primary space agency?",
                options: ["NASA", "ESA", "ISRO", "Roscosmos"],
                answer: "ISRO"
            },
            {
                question: "Which of these is a classical dance form originating from Tamil Nadu, India?",
                options: ["Kathak", "Bharatanatyam", "Odissi", "Kuchipudi"],
                answer: "Bharatanatyam"
            },
            {
                question: "The Taj Mahal is located in which Indian city?",
                options: ["Delhi", "Jaipur", "Agra", "Mumbai"],
                answer: "Agra"
            },
            {
                question: "Which festival, widely celebrated in India, is known as the 'Festival of Lights'?",
                options: ["Holi", "Eid", "Diwali", "Navaratri"],
                answer: "Diwali"
            }
        ];

        // DOM Elements
        const quizContainer = document.getElementById('quiz-container');
        const questionTextElement = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const nextButton = document.getElementById('next-button');
        const feedbackMessageElement = document.getElementById('feedback-message');
        const questionCounterElement = document.getElementById('question-counter');
        const currentScoreElement = document.getElementById('current-score');
        const dimOverlay = document.getElementById('dim-overlay');
        
        const scoreCardContainer = document.getElementById('score-card-container');
        const finalScoreTextElement = document.getElementById('final-score-text');
        const scoreTitleElement = document.getElementById('score-title');
        const scoreImageElement = document.getElementById('score-image');
        const scoreMessageElement = document.getElementById('score-message');
        const restartButton = document.getElementById('restart-button');

        // Quiz State
        let currentQuestionIndex = 0;
        let score = 0;
        let questions = []; // To store shuffled questions

        const NEUTRAL_BG = 'bg-slate-100';
        const CORRECT_BG = 'bg-green-100'; // Lighter green for overall background
        const INCORRECT_BG = 'bg-red-100';   // Lighter red for overall background

        // Utility function to shuffle an array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function setBodyBackground(colorClass, isWrong = false) {
            document.body.className = 'flex items-center justify-center min-h-screen p-4 transition-colors duration-300 ease-in-out'; // Reset classes
            document.body.classList.add(colorClass);
            if (isWrong) {
                dimOverlay.style.opacity = '0.3';
            } else {
                dimOverlay.style.opacity = '0';
            }
        }

        function loadQuestion() {
            // Reset background for new question
            setBodyBackground(NEUTRAL_BG);
            feedbackMessageElement.textContent = '\u00A0'; // Non-breaking space to maintain height
            feedbackMessageElement.className = 'feedback-message'; // Reset feedback class

            if (currentQuestionIndex < questions.length) {
                const currentQuestion = questions[currentQuestionIndex];
                questionTextElement.textContent = currentQuestion.question;
                questionCounterElement.textContent = `Question ${currentQuestionIndex + 1}/${questions.length}`;
                currentScoreElement.textContent = `Score: ${score}`;
                
                optionsContainer.innerHTML = ''; // Clear previous options
                const shuffledOptions = shuffleArray([...currentQuestion.options]); // Shuffle options for variety

                shuffledOptions.forEach(option => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.classList.add('option-btn', 'w-full', 'text-left', 'p-3', 'sm:p-4', 'border-2', 'border-slate-300', 'rounded-lg', 'hover:bg-slate-100', 'focus:outline-none', 'focus:ring-2', 'focus:ring-indigo-400', 'text-slate-700');
                    button.addEventListener('click', selectOption);
                    optionsContainer.appendChild(button);
                });
                nextButton.classList.add('hidden');
            } else {
                showScoreCard();
            }
        }

        function selectOption(event) {
            const selectedButton = event.target;
            const correctAnswer = questions[currentQuestionIndex].answer;

            // Disable all option buttons after selection
            Array.from(optionsContainer.children).forEach(button => {
                button.disabled = true;
                if (button.textContent === correctAnswer) {
                    button.classList.add('correct'); // Highlight correct answer
                }
            });

            if (selectedButton.textContent === correctAnswer) {
                score++;
                selectedButton.classList.add('correct');
                feedbackMessageElement.textContent = 'Correct! Well done!';
                feedbackMessageElement.className = 'feedback-message text-green-600';
                setBodyBackground(CORRECT_BG);
            } else {
                selectedButton.classList.add('incorrect');
                feedbackMessageElement.innerHTML = `Oops! The correct answer was: <strong class="font-semibold">${correctAnswer}</strong>`;
                feedbackMessageElement.className = 'feedback-message text-red-600';
                setBodyBackground(INCORRECT_BG, true); // true for isWrong
            }
            currentScoreElement.textContent = `Score: ${score}`;
            nextButton.classList.remove('hidden');
        }

        function showScoreCard() {
            quizContainer.classList.add('opacity-0', 'pointer-events-none');
            setTimeout(() => { // Wait for quiz container to fade out
                quizContainer.classList.add('hidden');
                scoreCardContainer.classList.remove('hidden');
                scoreCardContainer.classList.add('opacity-100');

                const percentage = (score / questions.length) * 100;
                finalScoreTextElement.textContent = `You scored ${score} out of ${questions.length} (${percentage.toFixed(1)}%)`;

                let message = "";
                let imageSrc = ""; // Placeholder for image URLs
                let title = "Quiz Completed!";

                if (percentage >= 80) {
                    title = "Excellent Knowledge! ðŸŽ‰";
                    message = "You're a true India expert! Outstanding performance.";
                    imageSrc = "https://placehold.co/150x150/4CAF50/FFFFFF?text=Expert!";
                    setBodyBackground('bg-green-100');
                } else if (percentage >= 50) {
                    title = "Good Job! ðŸ‘";
                    message = "Great effort! You know a lot about India.";
                    imageSrc = "https://placehold.co/150x150/2196F3/FFFFFF?text=Great!";
                    setBodyBackground('bg-blue-100');
                } else {
                    title = "Keep Learning! ðŸ“š";
                    message = "Good try! There's always more to learn about incredible India.";
                    imageSrc = "https://placehold.co/150x150/FFC107/FFFFFF?text=Practice!";
                    setBodyBackground('bg-yellow-100');
                }
                dimOverlay.style.opacity = '0'; // Ensure dim overlay is off for scorecard

                scoreTitleElement.textContent = title;
                scoreMessageElement.textContent = message;
                scoreImageElement.src = imageSrc;
                scoreImageElement.alt = title;


            }, 500); // Match quiz-container transition duration
        }

        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            questions = shuffleArray([...quizData]); // Re-shuffle questions
            
            scoreCardContainer.classList.add('hidden');
            scoreCardContainer.classList.remove('opacity-100');

            quizContainer.classList.remove('hidden', 'opacity-0', 'pointer-events-none');
             // Add a small delay to ensure the fade-in transition works after display:block
            setTimeout(() => {
                quizContainer.classList.add('opacity-100');
            }, 50);


            loadQuestion();
        }

        // Event Listeners
        nextButton.addEventListener('click', () => {
            currentQuestionIndex++;
            loadQuestion();
        });
        restartButton.addEventListener('click', restartQuiz);

        // Initialize Quiz
        function startQuiz() {
            questions = shuffleArray([...quizData]); // Shuffle questions at the start
            loadQuestion();
        }

        startQuiz();

    </script>
</body>
</html>
